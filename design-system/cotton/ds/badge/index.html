{% load ds_icons %}

<c-vars label="" type="neutral" main_enabled="true" arrow_enabled="true" class_name="" />

<div
  x-data="{
    label: '{{ label|default:''|escapejs }}',
    type: '{{ type|default:'neutral'|escapejs }}',
    mainEnabled: '{{ main_enabled|default:'true'|lower|escapejs }}' === 'true',
    arrowEnabled: '{{ arrow_enabled|default:'true'|lower|escapejs }}' === 'true'
  }"
  class="ds-badge {{ class_name }} {{ attrs.class }}"
  x-bind:data-type="['neutral', 'pending', 'info', 'danger', 'warning', 'success', 'muted'].includes(type) ? type : 'neutral'"
  {{ attrs }}
>
  <button
    type="button"
    class="ds-badge-main"
    x-bind:disabled="!mainEnabled"
    @click="$dispatch('ds-badge-main')"
  >
    <span x-text="label">{{ label }}</span>
  </button>
  <button
    type="button"
    class="ds-badge-arrow"
    x-bind:disabled="!arrowEnabled"
    @click="$dispatch('ds-badge-arrow')"
  >
    {% ds_icon "triangle-right" "size-4" %}
  </button>
</div>
